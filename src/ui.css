/* Shared UI tokens and components for extension pages (popup/options/setup) */

/* Base tokens (light) */
:root{
  --ui-bg: #ffffff;
  --ui-surface: rgba(255,255,255,0.6);
  --ui-stroke: rgba(0,0,0,0.08);
  --ui-text: #0f172a;
  --ui-subtle: #475569;
  --ui-accent: #3b82f6;
  --ui-accent-2: #a78bfa;
  --ui-shadow: 0 12px 28px rgba(2,6,23,0.15);
  --ui-muted-surface: rgba(255,255,255,0.35);
}

/* System dark */
@media (prefers-color-scheme: dark){
  :root{
    --ui-bg: #0b1220;
    --ui-surface: rgba(15,23,42,0.55);
    --ui-stroke: rgba(255,255,255,0.12);
    --ui-text: #e5e7eb;
    --ui-subtle: #94a3b8;
    --ui-accent: #60a5fa;
    --ui-accent-2: #8b5cf6;
    --ui-shadow: 0 12px 32px rgba(0,0,0,0.45);
    --ui-muted-surface: rgba(17,24,39,0.4);
  }
}

/* Explicit theme overrides via data-theme attribute */
html[data-theme="dark"]{
  --ui-bg: #0b1220;
  --ui-surface: rgba(15,23,42,0.55);
  --ui-stroke: rgba(255,255,255,0.12);
  --ui-text: #e5e7eb;
  --ui-subtle: #94a3b8;
  --ui-accent: #60a5fa;
  --ui-accent-2: #8b5cf6;
  --ui-shadow: 0 12px 32px rgba(0,0,0,0.45);
  --ui-muted-surface: rgba(17,24,39,0.4);
}
html[data-theme="light"]{
  --ui-bg: #ffffff;
  --ui-surface: rgba(255,255,255,0.6);
  --ui-stroke: rgba(0,0,0,0.08);
  --ui-text: #0f172a;
  --ui-subtle: #475569;
  --ui-accent: #3b82f6;
  --ui-accent-2: #a78bfa;
  --ui-shadow: 0 12px 28px rgba(2,6,23,0.15);
  --ui-muted-surface: rgba(255,255,255,0.35);
}

/* Base page */
body{ font:14px/1.5 system-ui, ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; color: var(--ui-text); background: var(--ui-bg); }
.container{ max-width: 860px; margin: 0 auto; padding: 16px; }
.row{ margin: 8px 0; }
code, pre, textarea { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
pre{ background: #0b1220; color: #e5e7eb; padding: 12px; border-radius: 8px; overflow:auto; }

/* Buttons */
.btn{ appearance:none; display:inline-flex; align-items:center; gap:8px; border:1px solid var(--ui-stroke); border-radius: 12px; padding: 9px 14px; cursor: pointer; background: var(--ui-muted-surface); color: inherit; text-decoration:none; box-shadow: inset 0 1px 0 rgba(255,255,255,0.28); transition: box-shadow .18s ease, transform .06s ease, background .2s ease; }
.btn:hover{ box-shadow: 0 2px 12px rgba(2,6,23,.15), inset 0 1px 0 rgba(255,255,255,.25); }
.btn:active{ transform: translateY(1px); }
.btn[disabled]{ opacity:.55; cursor: not-allowed; }
.btn-primary{ background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.25)); border-color: rgba(99,102,241,0.45); }
html[data-theme="dark"] .btn-primary{ background: linear-gradient(180deg, rgba(30,41,59,0.7), rgba(30,41,59,0.3)); border-color: rgba(99,102,241,0.45); }
.btn-danger{ border-color: #ef4444; }
.btn.selected{ border-color: var(--ui-accent); box-shadow: 0 0 0 2px rgba(59,130,246,.35); }
.btn svg{ width:16px; height:16px; }

/* Icon button */
.icon-btn{ display:inline-flex; align-items:center; justify-content:center; width:30px; height:30px; border:1px solid var(--ui-stroke); border-radius:10px; background: var(--ui-muted-surface); color:inherit; cursor:pointer; box-shadow: inset 0 1px 0 rgba(255,255,255,0.28); transition: box-shadow .18s ease, transform .06s ease; }
.icon-btn:hover{ box-shadow: 0 2px 10px rgba(2,6,23,.15), inset 0 1px 0 rgba(255,255,255,.25); }
.icon-btn:active{ transform: translateY(1px); }
.icon-btn svg{ width:16px; height:16px; display:block; }

/* Segmented control */
.segmented{ display:inline-flex; border:1px solid var(--ui-stroke); border-radius:12px; overflow:hidden; background: var(--ui-muted-surface); }
.segmented .btn{ border: none; border-radius: 0; box-shadow: none; }
.segmented .btn + .btn{ border-left: 1px solid var(--ui-stroke); }
.segmented .btn.selected{ background: linear-gradient(90deg, rgba(59,130,246,0.12), rgba(167,139,250,0.12)); box-shadow: inset 0 0 0 1px rgba(59,130,246,0.35); }

/* Card/panel */
.panel{ background: var(--ui-surface); border:1px solid var(--ui-stroke); border-radius: 16px; backdrop-filter: blur(14px) saturate(140%); -webkit-backdrop-filter: blur(14px) saturate(140%); box-shadow: var(--ui-shadow); padding: 12px; }

/* Progress */
.progress{ height: 10px; background: var(--ui-muted-surface); border:1px solid var(--ui-stroke); border-radius:999px; overflow:hidden; backdrop-filter: blur(6px); }
.progress .bar{ height:100%; width:0%; background: linear-gradient(90deg, var(--ui-accent), var(--ui-accent-2)); transition: width .25s ease; }
.meta{ display:flex; align-items:center; justify-content: space-between; gap:8px; font-size:12px; color: var(--ui-subtle); }
.status{ white-space: pre-wrap; min-height: 2em; font-size:12px; color: var(--ui-subtle); }

