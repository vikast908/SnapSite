<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GetInspire Helper Setup</title>
    <style>
      body{ font:14px/1.5 system-ui,sans-serif; padding:20px; max-width:860px; margin:auto; }
      pre{ background:#0b1220; color:#e5e7eb; padding:12px; border-radius:8px; overflow:auto; }
      code{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
      .row{ margin:12px 0; }
      button{ padding:8px 12px; border-radius:8px; cursor:pointer; }
      .ok{ color: #16a34a; }
      .warn{ color: #d97706; }
    </style>
  </head>
  <body>
    <h2>Install Video Helper (yt-dlp)</h2>
    <p>This installer will set up a Native Messaging host so GetInspire can download protected videos reliably via <code>yt-dlp</code>.</p>
    <ol>
      <li>Click “Download Installer” below.</li>
      <li>Open your Downloads folder, right‑click the <code>.ps1</code> file, and choose “Run with PowerShell”.</li>
      <li>Reload the extension and retry the download.</li>
    </ol>

    <div class="row">
      <button id="downloadBtn">Download Installer</button>
      <span id="status"></span>
    </div>

    <div class="row">
      <details>
        <summary>What this does</summary>
        <ul>
          <li>Copies the helper to <code>%LOCALAPPDATA%\GetInspire\yt-dlp-host</code></li>
          <li>Registers the Native Messaging manifest for your extension ID</li>
          <li>Downloads <code>yt-dlp.exe</code> if missing</li>
        </ul>
      </details>
    </div>

    <script type="module" src="setup.js"></script>
  </body>
  </html>

