<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GetInspire</title>
    <style>
      :root{
        --gi-bg: rgba(255,255,255,0.55);
        --gi-stroke: rgba(255,255,255,0.35);
        --gi-text: #0f172a;
        --gi-subtle: #334155;
        --gi-accent: #3b82f6;
        --gi-shadow: 0 8px 26px rgba(2,6,23,0.18);
      }
      @media (prefers-color-scheme: dark){
        :root{
          --gi-bg: rgba(15,23,42,0.45);
          --gi-stroke: rgba(255,255,255,0.12);
          --gi-text: #e5e7eb;
          --gi-subtle: #94a3b8;
          --gi-accent: #60a5fa;
          --gi-shadow: 0 8px 30px rgba(0,0,0,0.45);
        }
      }
      /* Keep the popup compact with no extra scroll/background */
      html, body { height: auto; overflow: hidden; }
      body {
        font: 13px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
        /* +1px wider */
        min-width: 321px; max-width: 361px; margin:0; padding: 12px;
        color: var(--gi-text);
        /* Use the glass look as the page background so there is no "card inside a popup" */
        background: var(--gi-bg);
        backdrop-filter: blur(14px) saturate(140%);
        -webkit-backdrop-filter: blur(14px) saturate(140%);
        /* Rounded popup edges */
        border-radius: 16px;
        border: 1px solid var(--gi-stroke);
        box-shadow: var(--gi-shadow);
      }
      h3{ margin: 0 0 10px; font-weight: 700; letter-spacing:.2px; }
      .row { margin: 6px 0; display:flex; gap:10px; }
      button{
        appearance: none; border:1px solid var(--gi-stroke); border-radius: 10px;
        padding: 9px 14px; cursor: pointer; background: rgba(255,255,255,0.35);
        color: var(--gi-text); box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);
        transition: box-shadow .2s ease, transform .06s ease, background .2s ease;
        backdrop-filter: blur(6px);
      }
      @media (prefers-color-scheme: dark){
        button{ background: rgba(17,24,39,0.35); }
      }
      button:hover{ box-shadow: 0 2px 10px rgba(2,6,23,.15), inset 0 1px 0 rgba(255,255,255,.25); }
      button:active{ transform: translateY(1px); }
      #startBtn{
        background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.25));
        border-color: rgba(99,102,241,0.45);
      }
      #startBtn:hover{ box-shadow: 0 6px 18px rgba(59,130,246,.25); }
      #stopBtn[disabled]{ opacity:.55; cursor:not-allowed; }
      .status{ margin-top: 6px; white-space: pre-wrap; min-height: 2em; font-size:12px; color: var(--gi-subtle); }
      small{ color: var(--gi-subtle); }
      .progress-row{ display:flex; align-items:center; gap:8px; }
      .progress{ margin-top: 6px; height:10px; background: rgba(255,255,255,0.35); border:1px solid var(--gi-stroke); border-radius: 999px; overflow:hidden; backdrop-filter: blur(6px); }
      .progress .bar{ height:100%; width:0%; background: linear-gradient(90deg, var(--gi-accent), #a78bfa); transition: width .25s ease; }
      .pct{ min-width: 32px; text-align:right; font-variant-numeric: tabular-nums; color: var(--gi-text); }
    </style>
  </head>
  <body>
    <h3>GetInspire</h3>
    <div class="row">
      <button id="startBtn">Capture this page</button>
      <button id="stopBtn" disabled>Stop</button>
    </div>
    <div class="status" id="status">ready to start?</div>
    <div class="row progress-row">
      <div class="progress" style="flex:1">
        <div class="bar" id="bar"></div>
      </div>
      <div class="pct" id="pct">0%</div>
    </div>
    <small id="hint">Scan -> Scroll -> Collect -> Rewrite -> Zip -> Download</small>
    <script src="popup.js"></script>
  </body>
  </html>

